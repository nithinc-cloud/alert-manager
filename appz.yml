app:
    name: alertmanager
    code: alertmanager
    notify: appz@ecloudcontrol.com

build:
    version: 0.2
    env: PROD
    build_file: none
    output_files: output/*.zip
    image_template: alertmanager-0.20

deploy:
    context: alpha/PROD
    type: statefulset
    replicas: 1
    port:
    - 9093

volumes:
  - claim: alertmanager-data
    class: linode-block-storage
    mount: /appz/data
    name: data
    size: 50Gi
    matchLabels: false
  
properties:
    SLACK_API_URL:
      vault: SLACK_API_URL
    SLACK_CHANNEL: appz-delivery
    CLUSTER_NAME: cloudorbit-vv
    revision : 4
